<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.board.menus.mapper.MenuMapper">  
  <!-- 목록조회 -->
  <select id="getMenuList"  
          resultType = "com.board.menus.domain.MenuDTO" >
  
     SELECT      USERID, 
     			 PASSWD, 
     			 USERNAME, 
     			 EMAIL, 
     			 UPOINT,
     			 CASE
     			 	WHEN UPOINT BETWEEN 0 AND 50000 THEN '새싹회원' 
     			 	WHEN UPOINT BETWEEN 50001 AND 100000 THEN '나무회원' 
     			 	WHEN UPOINT BETWEEN 100001 AND 9999999999 THEN '숲회원' 
     			 END AS MEMLEVEL, 
     			 TO_CHAR(INDATE, 'YYYY-MM-DD DY') INDATE
      FROM       TUSER
      ORDER  BY  INDATE ASC
  
  </select>
  
  <!-- 메뉴조회 -->
  <select id="getMenu"
          resultType = "com.board.menus.domain.MenuDTO" >
    
    SELECT   USERID, PASSWD, USERNAME, EMAIL, UPOINT, INDATE
     FROM    TUSER
     WHERE   USERID =  #{ userid }
  
  </select>
  

  <!-- 메뉴 추가 -->
  <insert id="insertMenu">  
   
 INSERT INTO TUSER (
    USERID,
    PASSWD,
    USERNAME,
    EMAIL
   )
   VALUES 
   (
       #{ userid  },
       #{ passwd },
       #{ username },
       #{ email }
   )   
   
  </insert> 
  
  <!-- 목록삭제 -->
  <delete id="deleteMenu">
   
     DELETE  FROM  TUSER
      WHERE  USERID  = #{ userid } 
  
  </delete>
  
  <!-- 메뉴 수정 -->
  <update id="update">
   
     UPDATE   TUSER 
      SET     USERNAME = #{ username },
      		  PASSWD = #{ passwd },
      		  EMAIL = #{ email }
      WHERE   USERID = #{ userid }
  </update>
</mapper>